(()=>{var t={643:()=>{((t,e)=>{"use strict";const o=e=>{if(t.SLW_Store.country_code&&e.val(t.SLW_Store.country_code).trigger("change"),"private"==t.SLW_Store.access_store)e.prop("disabled",!0);else{const t=PHP_DATA?.product_locations?.filter((t=>"private"==t.access_store));if(!t)return;t.forEach((t=>{e.find(`option[value=${t.country_code}]`).prop("disabled",!0)}))}},a=e=>{if("private"==t.SLW_Store.access_store)e.prop("disabled",!1);else{const t=PHP_DATA?.product_locations?.filter((t=>"private"==t.access_store));if(!t)return;t.forEach((t=>{e.find(`option[value=${t.country_code}]`).prop("disabled",!1)}))}};document.addEventListener("DOMContentLoaded",(()=>{})),t.addEventListener("load",(()=>{(()=>{let t=document.querySelector("#ship-to-different-address-checkbox"),s=document.querySelector('form.woocommerce-checkout select[name="billing_country"]'),c=document.querySelector('form.woocommerce-checkout select[name="shipping_country"]');s&&(t&&t.addEventListener("change",(t=>{1==t.target.checked?(a(e(s)),o(e(c))):(c&&a(e(c)),o(e(s)))})),o(e(s)))})()}))})(window,jQuery)}},e={};function o(a){var s=e[a];if(void 0!==s)return s.exports;var c=e[a]={exports:{}};return t[a](c,c.exports,o),c.exports}o.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return o.d(e,{a:e}),e},o.d=(t,e)=>{for(var a in e)o.o(e,a)&&!o.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})},o.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{"use strict";o(643),((t,e)=>{t.SLW_Store=null;const o=PHP_DATA.product_locations,{countryCode:a,country:s,timezone:c}=PHP_DATA.user_location,r=()=>{const o=["form.cart select.slw_item_stock_location"],a=document.querySelectorAll(o.join(","));a.length<=0?e(".single-product form.cart").addClass("slwc-field-disable-css"):(e(o.join(",")).off("change").on("change",(function(t){(t=>{const o=e(t).parent(),a=e(t).find(`option[value="${t.value}"]`),s=a.length?a.text():"Product not available.";o.find(".slwc-text").remove(),o.prepend(`<div class="slwc-text"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 0c-4.198 0-8 3.403-8 7.602 0 4.198 3.469 9.21 8 16.398 4.531-7.188 8-12.2 8-16.398 0-4.199-3.801-7.602-8-7.602zm0 11c-1.657 0-3-1.343-3-3s1.343-3 3-3 3 1.343 3 3-1.343 3-3 3z"/></svg> ${s}</div>`)})(this),(t=>{const o=e(t),a=o.parents("form"),s=o.find(`option[value="${t.value}"]`);0===s.length||!0===s[0].disabled?a.find("button[type=submit], input[name=quantity]").addClass("slwc-field-disable-css"):a.find("button[type=submit], input[name=quantity]").removeClass("slwc-field-disable-css")})(this)})),a.forEach((o=>{o.classList.add("slwc-custom"),o.value=t.SLW_Store.term_id,e(o).trigger("change"),o.classList.add("slwc-field-disable-css","noselect")})))},n=()=>{e(".button.product_type_simple.add_to_cart_button.ajax_add_to_cart").each(((t,o)=>{o.classList.add("slwc-hidden");const a=parseInt(o.dataset.product_id),s=e(o).parents(".__slwc-product-unavailable").length,c=e(`<a class="button slwc-custom-button-ajax-add-to-cart-simple-product ${s?"slwc-field-disable-css":""}" href="javascript:" data-product-id="${a}">${o.text}</a>`);e(o).before([s?'<small class="product-unavailable-tag">Unavailable for your location</small>':"",c]),o.href=`${o.href}&slw_add_to_cart_item_stock_location=${SLW_Store.term_id}`})),e(document.body).on("click","a.slwc-custom-button-ajax-add-to-cart-simple-product",(function(t){t.preventDefault();const o=e(this),a=parseInt(e(this).data("product-id"));o.addClass("loading"),e.ajax({type:"POST",url:"?wc-ajax=add_to_cart",data:{"add-to-cart":a,slw_add_to_cart_item_stock_location:SLW_Store.term_id},success(){e(document.body).trigger("wc_fragment_refresh"),setTimeout((()=>{o.removeClass("loading")}),1500)},error(t){console.log(t)}})}))},d=()=>{e(".product.type-product.outofstock").each((function(){e(this).find(".product-unavailable-tag").length>0||e(this).hasClass(`__slwc-qty-${t.SLW_Store.term_id}_0`)&&e(this).append('<small class="product-unavailable-tag">Out of stock</small>')}))};t.addEventListener("DOMContentLoaded",(s=>{t.SLW_Store=o.find((t=>t.country_code==a))||o.find((t=>"global"==t.access_store)),r(),e(".variations_form").on("found_variation",(t=>{})),e(document).ajaxComplete(((t,e,o)=>{o?.data.startsWith("action=get_variation_locations")&&r()})),n(),d()}))})(window,jQuery)})()})();
//# sourceMappingURL=main.slw-cannaunion.bundle.js.map